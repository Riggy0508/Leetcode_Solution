{"id":862411999,"question_id":642,"lang":"python3","lang_name":"Python3","time":"2 years, 2 months","timestamp":1671501252,"status":10,"status_display":"Accepted","runtime":"691 ms","url":"/submissions/detail/862411999/","is_pending":"Not Pending","title":"Design Search Autocomplete System","memory":"18.1 MB","code":"class Trie:\n    def __init__(self):\n        self.root={}\n\n    def insert(self,sentence):\n        cur=self.root\n        for l in sentence:\n            if l not in cur:\n                cur[l]={}\n            cur=cur[l]\n        cur['#']=sentence\n    \n    def search(self,prefix,cur=None):\n        if not cur:\n            cur=self.root\n        \n        for c in prefix:\n            if c not in cur:\n                return []\n            cur=cur[c]\n\n        ans=[]\n\n        for k in cur:\n            if k==\"#\":\n                ans.append(cur[k])\n\n            ans=[]\n\n        for k in cur:\n            if k==\"#\":\n                ans.append(cur[k])\n            else:\n                ans+=self.search('',cur[k])\n\n        return ans\n\n\nclass AutocompleteSystem:\n\n    def __init__(self, sentences: List[str], times: List[int]):\n        self.lookup={}\n\n        for i,s in enumerate(sentences):\n            self.lookup[s]=times[i]\n\n        self.trie=Trie()\n\n        for s in sentences:\n            self.trie.insert(s)\n        self.keyword=\"\"\n\n    def input(self, c: str) -> List[str]:\n        if c==\"#\":\n            self.lookup[self.keyword]=self.lookup.get(self.keyword,0)+1\n            self.trie.insert(self.keyword)\n            self.keyword=\"\"\n            return []\n        else:\n            self.keyword+=c\n            lst=self.trie.search(self.keyword)\n            lst.sort(key=lambda x:(-self.lookup[x],x))\n            return lst[:3]\n\n# Your AutocompleteSystem object will be instantiated and called as such:\n# obj = AutocompleteSystem(sentences, times)\n# param_1 = obj.input(c)","compare_result":"1111111111111111111111111111111111111111111","title_slug":"design-search-autocomplete-system","has_notes":false,"flag_type":1}